@model GS247.Models.FeesConfiguration
@{
    ViewBag.Title = "Configurations";
    Layout = "~/Views/Shared/_FeesLayout.cshtml";
}
<style>
    .container {
        width: 1000px;
        min-height: 800px;
        margin: 0px auto 20px auto;
        padding: 0px;
        background: #FFF url(../images/cont_left_bg.png) left repeat-y;
    }
</style>

<table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    <tr>
                                        <td valign="top" width="247">
                                            <div class="cont_right formWrapper">
                                                <h1>Fees Configurations</h1>
                                                <div class="edit_bttns" style="top:20px; right:20px;">
                                                    <ul></ul>
                                                </div>


                                                <style>
                                                    #status input {
                                                        float: left;
                                                    }

                                                    #status label {
                                                        float: left;
                                                    }
                                                </style>
                                                <div class="formCon">
                                                    <div class="formConInner">
                                                        @if (Model != null)
                                                        {
                                                            <form id="fee-config-form" action="Configurations" method="post">
                                                                <h3>Setup Fees Configurations</h3>
                                                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                                    <tr>
                                                                        <td colspan="2">
                                                                            <input id="ytFeeConfigurations_tax_in_fee" type="hidden" value="0" name="FeeConfigurations[tax_in_fee]">
                                                                            <input size="60" maxlength="200" name="TaxFlag" id="TaxFlag" @(Convert.ToBoolean(Model.TaxFlag) == true ? "checked='checked'" : string.Empty) value="@Model.TaxFlag" type="checkbox">&nbsp;&nbsp;
                                                                            <label for="TaxFlag">Enable Tax in Fee</label>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">
                                                                            <input id="ytFeeConfigurations_tax_in_fee" type="hidden" value="0" name="FeeConfigurations[tax_in_fee]">
                                                                            <input size="60" maxlength="200" name="DiscountFlag" id="DiscountFlag" @(Convert.ToBoolean(Model.DiscountFlag) == true ? "checked='checked'" : string.Empty) value="@Model.DiscountFlag" type="checkbox">&nbsp;&nbsp;
                                                                            <label for="DiscountFlag">Enable Discount in Fee</label>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">
                                                                            <input id="ytFeeConfigurations_discount_in_invoice" type="hidden" value="0" name="FeeConfigurations[discount_in_invoice]">
                                                                            <input size="60" maxlength="200" name="InvoiceDiscountShow" id="InvoiceDiscountShow" @(Convert.ToBoolean(Model.InvoiceDiscountShow) == true ? "checked='checked'" : string.Empty) value="@Model.InvoiceDiscountShow" type="checkbox">&nbsp;&nbsp;
                                                                            <label for="InvoiceDiscountShow">Show Discount Column in Invoice Template</label>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td width="20%"><label for="FeeConfigurations_invoice_template" class="required">Invoice Template <span class="required">*</span></label></td>
                                                                        <td>
                                                                           
                                                                            <select style="width:200px;" name="InvoiceTemplate" id="InvoiceTemplate">

                                                                                @if (Model.InvoiceTemplate == 1)
                                                                                {
                                                                                    <option value="1" selected="selected">Template 1</option>
                                                                                    <option value="2">Template 2</option>
                                                                                }
                                                                                else 
                                                                                {
                                                                                    <option value="1">Template 1</option>
                                                                                    <option value="2" selected="selected">Template 2</option>
                                                                                }                                                                                
                                                                               
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2"><input class="formbut-n" type="submit" value="Save" style="height:25px" /></td>
                                                                    </tr>
                                                                </table>
                                                            </form>
                                                        }
                                                        else
                                                        {
                                                            <form id="fee-config-form" action="Configurations" method="post">
                                                                <h3>Setup Fees Configurations</h3>
                                                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                                    <tr>
                                                                        <td colspan="2"><input id="ytFeeConfigurations_tax_in_fee" type="hidden" value="0" name="FeeConfigurations[tax_in_fee]">
                                                                            <input size="60" maxlength="200" name="TaxFlag" id="TaxFlag" value="1" checked="checked" type="checkbox">&nbsp;&nbsp;
                                                                            <label for="TaxFlag">Enable Tax in Fee</label></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2"><input id="ytFeeConfigurations_tax_in_fee" type="hidden" value="0" name="FeeConfigurations[tax_in_fee]">
                                                                            <input size="60" maxlength="200" name="DiscountFlag" id="DiscountFlag" value="1" checked="checked" type="checkbox">&nbsp;&nbsp;
                                                                            <label for="DiscountFlag">Enable Discount in Fee</label></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2"><input id="ytFeeConfigurations_discount_in_invoice" type="hidden" value="0" name="FeeConfigurations[discount_in_invoice]">
                                                                            <input size="60" maxlength="200" name="InvoiceDiscountShow" id="InvoiceDiscountShow" value="1" checked="checked" type="checkbox">&nbsp;&nbsp;
                                                                            <label for="InvoiceDiscountShow">Show Discount Column in Invoice Template</label></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td width="20%"><label for="FeeConfigurations_invoice_template" class="required">Invoice Template <span class="required">*</span></label></td>
                                                                        <td>
                                                                            <select style="width:200px;" name="InvoiceTemplate" id="InvoiceTemplate">
                                                                                <option value="1" selected="selected">Template 1</option>
                                                                                <option value="2">Template 2</option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">&nbsp;</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2"><input class="formbut-n" type="submit" value="Save" style="height:25px" /></td>
                                                                    </tr>
                                                                </table>
                                                            </form>
                                                        }
                                                    </div>

                                                </div><!-- form -->
                                                <script type="text/javascript">

                                                    $(':checkbox#TaxFlag').change(function (e) {
                                                        if ($(this).is(':checked')) {                                                            
                                                            $(':checkbox#TaxFlag').attr('value', '1');
                                                        }
                                                        else
                                                        {
                                                            $(':checkbox#TaxFlag').attr('value', '0');
                                                        }
                                                    });

                                                    $(':checkbox#DiscountFlag').change(function (e) {
                                                        if ($(this).is(':checked')) {
                                                            $(':checkbox#DiscountFlag').attr('value', '1');
                                                            $(':checkbox#InvoiceDiscountShow').removeAttr('disabled');
                                                        }
                                                        else
                                                        {
                                                            $(':checkbox#DiscountFlag').attr('value', '0');
                                                            $(':checkbox#InvoiceDiscountShow').attr('value', '0');                                                           
                                                            $(':checkbox#InvoiceDiscountShow').attr("checked", false);
                                                            $(':checkbox#InvoiceDiscountShow').attr('disabled', 'disabled');
                                                        }
                                                    });
                                                    
                                                    $(':checkbox#InvoiceDiscountShow').change(function (e) {
                                                        if ($(this).is(':checked')) {
                                                            $(':checkbox#InvoiceDiscountShow').attr('value', '1');
                                                        }
                                                        else
                                                        {
                                                            $(':checkbox#InvoiceDiscountShow').attr('value', '0');
                                                        }
                                                    });
                                                </script>                                                
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                        