@{
    ViewBag.Title = "Purchase";
    Layout = "~/Views/Shared/_PurchaseLayout.cshtml";
}
                                <div class="cont_right formWrapper">
                                    <h1>New Vendor</h1>

                                    <div class="button-bg">
                                        <div class="top-hed-btn-left">
                                            <a class="a_tag-btn" href="@Url.Action("VendorDetails", "Purchase")"><span>Back</span></a>
                                        </div>                                       
                                    </div>

                                    <div class="page-tab-atag">
                                        <ul>
                                            <li class="active"><h2>Vendor Details</h2></li>
                                            <li><h2>Product Details</h2></li>                                            
                                        </ul>
                                    </div>

                                    <form id="vendor-details-form" action="CreateVendorDetails" method="post">
                                        <p class="note">Fields with <span class="required">*</span> are required.</p>

                                        <div class="formCon-block">
                                            <div class="formConInner-block">

                                                <h3>Vendor Details </h3>
                                                <div class="text-fild-bg-block">
                                                    <div class="text-fild-block inputstyle">
                                                        <label for="FirstName" class="required">First Name <span class="required">*</span></label>                        
                                                        <input maxlength="255" name="FirstName" id="FirstName" type="text" required>
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="LastName" class="required">Last Name <span class="required">*</span></label>
                                                        <input maxlength="255" name="LastName" id="LastName" type="text" required>
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="AddressLine1" class="required">Address 1 <span class="required">*</span></label>                        
                                                        <input maxlength="255" name="AddressLine1" id="AddressLine1" type="text" required>
                                                    </div>
                                                </div>
                                                <div class="text-fild-bg-block">
                                                    <div class="text-fild-block inputstyle">
                                                        <label for="AddressLine2" class="required">Address 2 <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="AddressLine2" id="AddressLine2" type="text" required>
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="City" class="required">City <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="City" id="City" type="text" required>
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="State" class="required">State <span class="required">*</span></label>
                                                        <input maxlength="255" name="State" id="State" type="text" required>
                                                    </div>
                                                </div>
                                                <div class="text-fild-bg-block">
                                                    <div class="text-fild-block inputstyle">
                                                        <label for="Country" class="required">Country <span class="required">*</span></label>                    
                                                        <select style="" name="Country" id="Country">
                                                            <option value="">Select Country</option>
                                                            @foreach (var item1 in ViewBag.CountryList)
                                                            {
                                                                <option value="@item1.id">@item1.country_name </option>
                                                            }
                                                        </select>
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="Email" class="required">Email <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="Email" id="Email" type="text" required onchange="emailValidation(this);">
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="PhoneNumber" class="required">Phone <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="PhoneNumber" id="PhoneNumber" type="text" required onchange="phoneValidation(this);">
                                                    </div>
                                                </div>
                                                <div class="text-fild-bg-block">
                                                    <div class="text-fild-block inputstyle">
                                                        <label for="CurrencyType" class="required">Currency <span class="required">*</span></label>                    
                                                        <select name="CurrencyType" id="CurrencyType">
                                                            @foreach (var item1 in ViewBag.CurrencyList)
                                                            {
                                                                <option value="@item1.ID">@item1.Name </option>
                                                            }
                                                        </select>

                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="CompanyName" class="required">Company Name <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="CompanyName" id="CompanyName" type="text" required onchange="vendorValidate(this,-1);">
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="VATNumber" class="required">VAT Number <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="VATNumber" id="VATNumber" type="text" required>
                                                    </div>
                                                </div>

                                                <div class="text-fild-bg-block">
                                                    <div class="text-fild-block inputstyle">
                                                        <label for="CSTNumber" class="required">GST Number <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="CSTNumber" id="CSTNumber" type="text" required>
                                                    </div>

                                                    <div class="text-fild-block inputstyle">
                                                        <label for="OfficeNumber" class="required">Office Phone <span class="required">*</span></label>                    
                                                        <input maxlength="255" name="OfficeNumber" id="OfficeNumber" type="text" required>
                                                    </div>
                                                </div>

                                                <div class="clear"></div>

                                            </div>
                                        </div>

                                        <div style="padding:0px 0 0 0px; text-align:left">
                                            <input id="submit_button_form" class="formbut-n" type="submit" name="yt0" value="Product Details">
                                        </div>

                                    </form>
                                </div>

    <script type="text/javascript">
        $(".purcs_ico").attr('active', '1').closest('li').addClass('list_active');

        function emailValidation(ele) {
            var reg = /^(([^<>()\[\]\\.,;:\s@@"]+(\.[^<>()\[\]\\.,;:\s@@"]+)*)|(".+"))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            if (reg.test(ele.value) == false) {
                $('#Email').css("border", "1px solid red");
                $('#Email').val('');
                return false;
            }
        };

        function phoneValidation(ele) {
            var bool = checkPhone(ele.value);
            if (!bool) {
                $('#PhoneNumber').css("border", "1px solid red");
                $('#PhoneNumber').val('');
                return false;
            }
        };

        function checkPhone(val) {
            var phoneNum = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
            if (val.match(phoneNum)) {
                return true;
            }
            else {
                return false;
            }
        }

        function vendorValidate(ele, VendorDetailId) {
            var d = { CompanyName: ele.value, VendorDetailId: VendorDetailId };
            $.ajax({
                type: "POST",
                url: "/Purchase/ValidateVendor",
                data: JSON.stringify(d),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (result) {
                    if (result.Message != "") {
                        $('#CompanyName').css("border", "1px solid red");
                        $('#CompanyName').val('');
                        return false;
                    }
                }
            });
        };

    </script>